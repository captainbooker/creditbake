<!-- app/views/layouts/_sidebar.html.erb -->
<div class="w-64 custom-blue h-screen p-4 flex flex-col overflow-y-auto border-r border-gray-200">
  <div class="flex items-center justify-center mb-6">
    <%= image_tag "blue-logo.jpg", alt: "CreditBake Logo", class: "h-20 w-26" %>
  </div>
  <div class="space-y-2">
    <%= link_to authenticated_root_path, class: "flex items-center space-x-3 py-2 px-4 text-white rounded-lg #{'bg-white' if current_page?(authenticated_root_path)} hover:bg-white hover:text-black transition duration-300" do %>
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="<%= current_page?(authenticated_root_path) ? '#000000'  : '#ffffff' %>">
        <path d="M536.92-590.77V-800H800v209.23H536.92ZM160-483.08V-800h263.08v316.92H160ZM536.92-160v-316.92H800V-160H536.92ZM160-160v-209.23h263.08V-160H160Zm33.85-356.92h195.38v-249.23H193.85v249.23Zm376.92 323.07h195.38v-249.23H570.77v249.23Zm0-430.77h195.38v-141.53H570.77v141.53ZM193.85-193.85h195.38v-141.53H193.85v141.53Zm195.38-323.07Zm181.54-107.7Zm0 181.54Zm-181.54 107.7Z"/>
      </svg>
      <span class="font-medium <%= 'text-black' if current_page?(authenticated_root_path) %>">Dashboard</span>
    <% end %>
    <%= link_to credit_report_path, class: "flex items-center space-x-3 text-white py-2 px-4 text-white rounded-lg #{'bg-white ' if current_page?(credit_report_path)} hover:bg-white hover:text-black transition duration-300" do %>
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="<%= current_page?(credit_report_path) ? '#000000'  : '#ffffff' %>">
        <path d="M260-200q-74.85 0-127.42-52.06Q80-304.11 80-379.31q0-71.07 48.92-123.23 48.93-52.15 114.93-56.08Q257.31-646 324.23-703q66.92-57 155.77-57 100.29 0 170.14 69.86Q720-620.29 720-520v40h24.62q57.46 1.85 96.42 42.19Q880-397.46 880-340q0 58.85-39.81 99.42Q800.38-200 741.54-200H524.62q-27.62 0-46.12-18.5Q460-237 460-264.62v-232.15l-84 83.54-28.31-27.54L480-573.08l132.31 132.31L584-413.23l-84-83.54v232.15q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69H740q42 0 71-29t29-71q0-42-29-71t-71-29h-60v-80q0-83-58.5-141.5T480-720q-83 0-141.5 58.5T280-520h-21.54q-55.69 0-97.08 41Q120-438 120-380t41 99q41 41 99 41h100v40H260Zm220-260Z"/>
      </svg>
      <span class="font-medium <%= 'text-black' if current_page?(credit_report_path) %>">Import Credit Report</span>
    <% end %>
    <%= link_to letters_path, class: "flex items-center space-x-3 py-2 px-4 text-white rounded-lg #{'bg-white' if current_page?(letters_path)} hover:bg-white hover:text-black transition duration-300" do %>
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="<%= current_page?(letters_path) ? '#000000'  : '#ffffff' %>">
        <path d="M340-260h280v-40H340v40Zm0-160h280v-40H340v40Zm-75.38 300q-27.62 0-46.12-18.5Q200-157 200-184.62v-590.76q0-27.62 18.5-46.12Q237-840 264.62-840H580l180 180v475.38q0 27.62-18.5 46.12Q723-120 695.38-120H264.62ZM560-640v-160H264.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v590.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69h430.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93V-640H560ZM240-800v160-160 640-640Z"/>
      </svg>
      <span class="font-medium <%= 'text-black' if current_page?(letters_path) %>">Letters</span>
    <% end %>
    <%= link_to challenge_path, class: "flex items-center space-x-3 py-2 px-4 text-white rounded-lg #{'bg-white' if current_page?(challenge_path)} hover:bg-white hover:text-black transition duration-300" do %>
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="<%= current_page?(challenge_path) ? '#000000'  : '#ffffff' %>">
        <path d="m354-287 126-76 126 77-33-144 111-96-146-13-58-136-58 135-146 13 111 97-33 143Zm-61 83.92 49.62-212.54-164.93-142.84 217.23-18.85L480-777.69l85.08 200.38 217.23 18.85-164.93 142.84L667-203.08 480-315.92 293-203.08ZM480-470Z"/>
      </svg>
      <span class="font-medium <%= 'text-black' if current_page?(challenge_path) %>">Challenge</span>
    <% end %>
    <%= link_to user_settings_path, class: "flex items-center space-x-3 py-2 px-4 text-white rounded-lg #{'bg-white' if current_page?(user_settings_path)} hover:bg-white hover:text-black transition duration-300" do %>
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="<%= current_page?(user_settings_path) ? '#000000'  : '#ffffff' %>">
        <path d="m405.38-120-14.46-115.69q-19.15-5.77-41.42-18.16-22.27-12.38-37.88-26.53L204.92-235l-74.61-130 92.23-69.54q-1.77-10.84-2.92-22.34-1.16-11.5-1.16-22.35 0-10.08 1.16-21.19 1.15-11.12 2.92-25.04L130.31-595l74.61-128.46 105.93 44.61q17.92-14.92 38.77-26.92 20.84-12 40.53-18.54L405.38-840h149.24l14.46 116.46q23 8.08 40.65 18.54 17.65 10.46 36.35 26.15l109-44.61L829.69-595l-95.31 71.85q3.31 12.38 3.7 22.73.38 10.34.38 20.42 0 9.31-.77 19.65-.77 10.35-3.54 25.04L827.92-365l-74.61 130-107.23-46.15q-18.7 15.69-37.62 26.92-18.92 11.23-39.38 17.77L554.62-120H405.38ZM440-160h78.23L533-268.31q30.23-8 54.42-21.96 24.2-13.96 49.27-38.27L736.46-286l39.77-68-87.54-65.77q5-17.08 6.62-31.42 1.61-14.35 1.61-28.81 0-15.23-1.61-28.81-1.62-13.57-6.62-29.88L777.77-606 738-674l-102.08 42.77q-18.15-19.92-47.73-37.35-29.57-17.42-55.96-23.11L520-800h-79.77l-12.46 107.54q-30.23 6.46-55.58 20.81-25.34 14.34-50.42 39.42L222-674l-39.77 68L269-541.23q-5 13.46-7 29.23t-2 32.77q0 15.23 2 30.23t6.23 29.23l-86 65.77L222-286l99-42q23.54 23.77 48.88 38.12 25.35 14.34 57.12 22.34L440-160Zm38.92-220q41.85 0 70.93-29.08 29.07-29.07 29.07-70.92t-29.07-70.92Q520.77-580 478.92-580q-42.07 0-71.04 29.08-28.96 29.07-28.96 70.92t28.96 70.92Q436.85-380 478.92-380ZM480-480Z"/>
      </svg>
      <span class="font-medium <%= 'text-black' if current_page?(user_settings_path) %>">Settings</span>
    <% end %>
    <%= link_to user_settings_path, class: "flex items-center space-x-3 py-2 px-4 text-white rounded-lg #{'bg-white' if current_page?(user_settings_path)} hover:bg-white hover:text-black transition duration-300" do %>
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="<%= current_page?(user_settings_path) ? '#000000'  : '#ffffff' %>">
        <path d="M200-280v80-560 480Zm24.62 120q-26.85 0-45.74-18.88Q160-197.77 160-224.62v-510.76q0-26.85 18.88-45.74Q197.77-800 224.62-800h510.76q26.85 0 45.74 18.88Q800-762.23 800-735.38v117.69h-40v-117.69q0-10.77-6.92-17.7-6.93-6.92-17.7-6.92H224.62q-10.77 0-17.7 6.92-6.92 6.93-6.92 17.7v510.76q0 10.77 6.92 17.7 6.93 6.92 17.7 6.92h510.76q10.77 0 17.7-6.92 6.92-6.93 6.92-17.7v-117.69h40v117.69q0 26.85-18.88 45.74Q762.23-160 735.38-160H224.62Zm320-160q-26.85 0-45.74-18.88Q480-357.77 480-384.62v-190.76q0-26.85 18.88-45.74Q517.77-640 544.62-640h230.76q26.85 0 45.74 18.88Q840-602.23 840-575.38v190.76q0 26.85-18.88 45.74Q802.23-320 775.38-320H544.62Zm230.76-40q10.77 0 17.7-6.92 6.92-6.93 6.92-17.7v-190.76q0-10.77-6.92-17.7-6.93-6.92-17.7-6.92H544.62q-10.77 0-17.7 6.92-6.92 6.93-6.92 17.7v190.76q0 10.77 6.92 17.7 6.93 6.92 17.7 6.92h230.76ZM640-420q25 0 42.5-17.5T700-480q0-25-17.5-42.5T640-540q-25 0-42.5 17.5T580-480q0 25 17.5 42.5T640-420Z"/>
      </svg>
      <span class="font-medium <%= 'text-black' if current_page?(user_settings_path) %>">Billing</span>
    <% end %>
    <%= link_to destroy_user_session_path, method: :delete, class: "flex items-center space-x-3 py-2 px-4 rounded-lg hover:bg-white hover:text-black transition duration-300 text-white" do %>
      <span class="material-icons">power_settings_new</span>
      <span class="font-medium">Logout</span>
    <% end %>
  </div>
  <div class="mt-auto">
    <div class="bg-gray-100 p-4 rounded-lg mb-4">
      <div class="text-gray-600 text-sm">Your Balance</div>
      <div class="flex items-center justify-between mt-2">
        <div class="text-lg font-semibold">
          <p>Credits: <%= number_to_currency(current_user.credits, unit: "$", precision: 2, format: "%u%n", strip_insignificant_zeros: true) %></p>
        </div>
      </div>
      <div class="flex justify-between mt-2 text-sm">
        <div class="text-gray-600">Free Attack Credits</div>
        <div>5</div>
      </div>
    </div>
    <div class="flex items-center space-x-4 p-2 relative group">
      <%= image_tag "creditbake-logo.png", alt: "Profile Picture", class: "h-10 w-10 rounded-full" %>
      <div>
        <div class="font-semibold text-white">Darren Booker</div>
      </div>
      <div class="relative">
        <button class="material-icons group-hover:block hidden text-white">more_vert</button>
        <div class="absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg py-1 hidden group-hover:block">
          <%= link_to 'Logout', destroy_user_session_path, method: :delete, class: "block px-4 py-2 text-gray-700 hover:bg-gray-100" %>
        </div>
      </div>
    </div>
  </div>
</div>
